"use strict";

(function() {
	function lastet() {
		var regUttrykk = /\s+\w+\s+/;
		console.log(regUttrykk.exec(" 1 "));
		console.log(regUttrykk.exec("    b "));
		console.log(regUttrykk.exec(" aaaa "));
		console.log(regUttrykk.exec("a "));
		console.log(regUttrykk.exec(" c"));
	}
	
	window.addEventListener("load", lastet, false);
})();

function oppgave2() {
	var input = document.getElementById("opg2");
	var tekst = input.value.trim();
//	var uttrykk = /\w+\s+/ig;
	var uttrykk = /(\w+\s*)+\./g;
	var punctuations = 0;
	
	while (true) {
		var res = uttrykk.exec(tekst);
		if (! res) break;
		punctuations++;
	}
	
	alert(punctuations);
}

function retrieveName() {
	oppgave4(document.getElementById("opg4").value);
}

function oppgave4(input) {
	var reg = /\w*$/i;
	var first = reg.exec(input).toString();
	
	var second = input.substring(0, input.length-first.length);
	alert(first + ", " + second);
}


(function() {
	function lastet() {
		var btn = document.getElementById("ordbehandler");
		btn.addEventListener("click", function() {
			frequency();
		}, false);
	}
	
	window.addEventListener("load", lastet, false);
})();


function frequency() {
	var ref = document.getElementById("referat").value;
	var reg = /([^\s\.,;:!][a-zæøå%']+[\s\.,;:!]{1})/ig;
	var replaceString = new RegExp("[\.,;:'!]");
	
	var words = {};
//	var words = new Array();
	
	while(true) {
		var res = reg.exec(ref);

		if(! res) break;
		res = res[0];
		res = res.replace(/[,\.:;!\s\n]/ig,"");

		if(res in words) {
			words[res]++;
		} else {
			words[res] = 1;
		}
	}
	
	var tmp = new Array();
	var item;
	
	for(var x in words) {
		item = {};
		item.k = item; //k for key
		item.v = words[x]; //v for value
		tmp.push(item);
	}
	
	function predicate(a,b) {
		return a.v > b.v;
	}
	
	tmp.sort(predicate);
//	
//	for(var x in words) {
//		console.log(x + ": " + words[x]);
//	}
	
	for(var x = 0; x < tmp.length; x++) {
		console.log(tmp[x].k + ": " + tmp[x].v);
	}
//	alert(words.length);
}

function testFunc() {
	var val = document.getElementById("testVal").value;
	var reg = /[\s,]/g;
	
	console.log(val + " <<<=>>>  " + val.length);
	var res = val.replace(reg, "");
	console.log(res + " <<<=>>> " + res.length);
	
}






