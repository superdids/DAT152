window.onload = function() {
	var canvas = document.createElement('canvas');
	canvas.id = "ide";
	canvas.width  = 2000;
	canvas.height = 2000;
	var ctx = canvas.getContext('2d');

	document.body.appendChild(canvas);
	var c = new Pos(0,0); //c for current
//	var p = new Pos(2,2); //p for previous
	//starting off with diamond... from 0 to 5.

	var state = 1;
	
	window.setInterval(function() {
		ctx.clearRect(c.x*50, c.y*50, 50, 50);
		if(state == 1) { ++c.x; ++c.y; }
		else if(state == 2) { --c.x; ++c.y; }
		else if(state == 3) { --c.x; --c.y; }
		else { ++c.x; --c.y }

		if((c.x == 5 && c.y == 5) || (c.x == 0 & c.y == 0) || (c.x == 0 && c.y == -5 ) || (c.x == -5 && c.y == -5)) {
			state = (state + 1) % 4;
		} 
		console.log(3);
		ctx.fillStyle = getRandomColor();
		ctx.fillRect(c.x*50, c.x*50,50,50);
	}, 500);

	ctx.fillStyle = getRandomColor();
	ctx.fillRect(0,0,50,50);


}

function Pos(x,y) {
	this._x = x||0;
	this._y = y||0;
}

function getRandomColor() {
	var letters = '0123456789ABCDEF'.split('');
	var color = '#';
	for (var i = 0; i < 6; i++ ) {
		color += letters[Math.floor(Math.random() * 16)];
	}
	return color;
}