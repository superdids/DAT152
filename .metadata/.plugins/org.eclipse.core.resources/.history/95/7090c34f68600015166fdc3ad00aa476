"use strict";

var logId = {
		value: "-1"
};

//(function() {
//	function lastet() {
//		var url = config.servicesPath + "/endringer";
//		var ajax = new AJAXConnection();
//		ajax.onsuccess = createRows;
//		ajax.get([logId.value]);
//	}
//
//	window.addEventListener("DOMContentLoaded", lastet);
//})();


function createRows(m) {
	var table = document.getElementById("memberList");
	
	var members = {};
	members = JSON.parse(m);
	members = members.updates.newMembers;
	
	var rowCount = -1;
	for(var x = 0; x < members.length; x++) {
		var row = table.insertRow(++rowCount);
		row.id = "m" + members[x].memberId;
		
		addCells(row, members[x]);
	}
}

function updateRow(id, m) {
	var table = document.getElementById("memberList");
	
	
}

function addCells(row, m) {
	var cell0 = row.insertCell(0);
	var cell1 = row.insertCell(1);
	var cell2 = row.insertCell(2);
	var cell3 = row.insertCell(3);
	var cell4 = row.insertCell(4);
	var cell5 = row.insertCell(5);
	
	cell0.innerHTML = m.firstname;
	cell1.innerHTML = m.lastname;
	cell2.innerHTML = m.address;
	cell3.innerHTML = m.phone;
	
	var button0 = document.createElement("input");
	button.type = "button";
	button.value = "Endre";
	button.onclick = (function(arg) {
		return function() {
			edit(arg);
		}
	})(m.memberId);
}

function edit(id) {
	var asd = window.open("oppgave01member.html");
	asd.document.getElementById("fName").innerHTML = "123";
}

